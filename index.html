<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MAKER GAME PRO - ADMIN EDITION</title>
    <style>
        :root {
            --cyan: #00f2ff;
            --purple: #bc13fe;
            --yellow: #ffcc00;
            --red: #ff4444;
            --bg: #050510;
        }

        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: white; overflow: hidden; }
        .hidden { display: none !important; }

        /* HEADER */
        #header { 
            background: #0a0a20; padding: 12px 20px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 2px solid var(--cyan); box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }

        .badge-dono { background: var(--yellow); color: black; padding: 2px 8px; border-radius: 4px; font-weight: bold; font-size: 12px; }

        /* MENU PRINCIPAL */
        #main-menu { height: 85vh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px; }
        .menu-button { 
            width: 260px; padding: 18px; border: none; border-radius: 12px; 
            font-weight: bold; cursor: pointer; font-size: 16px; text-transform: uppercase;
            transition: 0.3s;
        }
        .btn-cyan { background: var(--cyan); color: black; box-shadow: 0 0 15px var(--cyan); }
        .btn-purple { background: var(--purple); color: white; box-shadow: 0 0 15px var(--purple); }

        /* EDITOR LAYOUT */
        #level-editor { display: flex; height: calc(100vh - 65px); }
        #sidebar { 
            width: 120px; background: #0a0a20; display: flex; flex-direction: column; 
            gap: 10px; padding: 15px; border-right: 1px solid #333; overflow-y: auto;
        }
        .tool { 
            padding: 12px; background: #1a1a3a; border: 1.5px solid #444; 
            color: white; cursor: pointer; text-align: center; border-radius: 8px; font-size: 11px; font-weight: bold;
        }
        .tool.active { border-color: var(--cyan); background: #004455; box-shadow: 0 0 10px var(--cyan); }

        /* GRID DO MAPA */
        #editor-main { flex: 1; display: flex; align-items: center; justify-content: center; background: #000; position: relative; }
        #grid-canvas { 
            display: grid; grid-template-columns: repeat(20, 1fr); 
            width: 95vw; max-width: 600px; aspect-ratio: 4/3; border: 2px solid #222; 
        }
        .cell { border: 0.1px solid rgba(255,255,255,0.05); box-sizing: border-box; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        
        /* ESTILO DOS BLOCOS */
        .block { background: #555; border: 1px solid #777; }
        .lava { background: #ff4400; box-shadow: inset 0 0 10px #000; }
        .spawn { background: #00ff00 !important; border: 2px solid white !important; box-shadow: 0 0 15px #00ff00; }
        .flag { background: #ffcc00 !important; border: 2px solid white !important; box-shadow: 0 0 15px #ffcc00; border-radius: 0 50% 50% 0; }

        /* PAINEL ADMIN PROFISSIONAL */
        #admin-panel {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: #111; border: 2px solid var(--red); padding: 25px; border-radius: 15px;
            z-index: 1000; width: 280px; box-shadow: 0 0 30px rgba(255, 68, 68, 0.4);
        }
        .admin-title { color: var(--red); font-weight: bold; text-align: center; margin-bottom: 20px; font-size: 18px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .admin-btn { 
            width: 100%; padding: 12px; margin: 5px 0; border: none; border-radius: 8px; 
            font-weight: bold; cursor: pointer; color: white; background: #222; border: 1px solid #444;
        }
        .admin-btn:hover { background: #333; border-color: var(--red); }
    </style>
</head>
<body>

    <div id="header">
        <div style="font-weight: bold; color: var(--cyan); font-size: 20px;">MAKER PRO</div>
        <div style="display: flex; align-items: center; gap: 15px;">
            <button id="btn-admin-open" class="hidden" onclick="abrirAdmin()" style="background:var(--red); color:white; border:none; border-radius:5px; padding:5px 10px; font-weight:bold; cursor:pointer;">ADMIN</button>
            <div id="user-info">Bolacha <span class="badge-dono">DONO</span></div>
            <div style="color: var(--yellow); font-weight: bold;">ðŸ’° <span id="coins">0</span></div>
        </div>
    </div>

    <div id="admin-panel" class="hidden">
        <div class="admin-title">PAINEL DO DONO</div>
        <button class="admin-btn" onclick="addMoedas(10000)" style="color: #0f0;">+ 10.000 MOEDAS</button>
        <button class="admin-btn" onclick="limparMapa()" style="color: #ff4444;">LIMPAR TUDO</button>
        <button class="admin-btn" onclick="alert('Modo Deus: Ativado!')">MODO DEUS</button>
        <button class="admin-btn" onclick="fecharAdmin()" style="margin-top: 15px; background: #444;">FECHAR</button>
    </div>

    <div id="main-menu">
        <button class="menu-button btn-cyan" onclick="mudarTela('editor')">Criar Novo Mapa</button>
        <button class="menu-button btn-purple" onclick="alert('NÃ­veis em manutenÃ§Ã£o...')">Jogar Online</button>
    </div>

    <div id="editor-ui" class="hidden">
        <div id="level-editor">
            <div id="sidebar">
                <div class="tool" id="t-block" onclick="setTool('block')">BLOCO (5)</div>
                <div class="tool" id="t-lava" onclick="setTool('lava')">LAVA (5)</div>
                <div class="tool" id="t-spawn" onclick="setTool('spawn')" style="color:#0f0">SPAWN (0)</div>
                <div class="tool" id="t-flag" onclick="setTool('flag')" style="color:#ff0">META (0)</div>
                <div class="tool" id="t-sell" onclick="setTool('sell')" style="color:var(--red); margin-top:10px;">VENDER</div>
                
                <button onclick="publicar()" style="background:var(--cyan); border:none; padding:12px; border-radius:8px; font-weight:bold; margin-top:20px; cursor:pointer;">PUBLICAR</button>
                <button onclick="location.reload()" style="background:none; color:white; border:1px solid #444; padding:5px; margin-top:10px; cursor:pointer;">SAIR</button>
            </div>
            <div id="editor-main">
                <div id="grid-canvas"></div>
            </div>
        </div>
    </div>

    <script>
        let moedas = localStorage.getItem('maker_moedas') ? parseInt(localStorage.getItem('maker_moedas')) : 7475;
        let nick = "Bolacha"; // Mude aqui se quiser trocar o dono
        let tool = null;

        function init() {
            document.getElementById('coins').innerText = moedas;
            if(nick === "Bolacha") document.getElementById('btn-admin-open').classList.remove('hidden');
        }

        function mudarTela(tela) {
            document.getElementById('main-menu').classList.add('hidden');
            if(tela === 'editor') {
                document.getElementById('editor-ui').classList.remove('hidden');
                construirGrade();
            }
        }

        function construirGrade() {
            const grid = document.getElementById('grid-canvas');
            grid.innerHTML = '';
            for(let i=0; i<300; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.onclick = () => clicarCela(cell);
                grid.appendChild(cell);
            }
        }

        function setTool(t) {
            tool = t;
            document.querySelectorAll('.tool').forEach(b => b.classList.remove('active'));
            document.getElementById('t-'+t).classList.add('active');
        }

        function clicarCela(cell) {
            if(!tool) return;

            if(tool === 'block' && moedas >= 5) {
                if(!cell.classList.contains('block')) { cell.className = 'cell block'; moedas -= 5; }
            } else if(tool === 'lava' && moedas >= 5) {
                if(!cell.classList.contains('lava')) { cell.className = 'cell lava'; moedas -= 5; }
            } else if(tool === 'spawn') {
                document.querySelectorAll('.spawn').forEach(s => s.className = 'cell');
                cell.className = 'cell spawn';
                cell.innerHTML = 'ðŸ‘¤';
            } else if(tool === 'flag') {
                document.querySelectorAll('.flag').forEach(f => f.className = 'cell');
                cell.className = 'cell flag';
                cell.innerHTML = 'ðŸš©';
            } else if(tool === 'sell') {
                if(cell.classList.contains('block') || cell.classList.contains('lava')) moedas += 5;
                cell.className = 'cell';
                cell.innerHTML = '';
            }
            
            document.getElementById('coins').innerText = moedas;
            localStorage.setItem('maker_moedas', moedas);
        }

        // FUNÃ‡Ã•ES ADMIN
        function abrirAdmin() {
            let pass = prompt("SENHA DO DONO:");
            if(pass === "123") {
                document.getElementById('admin-panel').classList.remove('hidden');
            } else { alert("Senha incorreta!"); }
        }

        function fecharAdmin() { document.getElementById('admin-panel').classList.add('hidden'); }

        function addMoedas(qtd) {
            moedas += qtd;
            document.getElementById('coins').innerText = moedas;
            localStorage.setItem('maker_moedas', moedas);
            alert("Sucesso! +10.000 moedas na conta.");
        }

        function limparMapa() {
            if(confirm("Deseja apagar o mapa inteiro?")) construirGrade();
        }

        function publicar() {
            const hasSpawn = document.querySelector('.spawn');
            const hasFlag = document.querySelector('.flag');
            if(!hasSpawn || !hasFlag) {
                alert("ERRO: O mapa precisa ter um SPAWN (ðŸ‘¤) e uma META (ðŸš©)!");
                return;
            }
            alert("ðŸš€ MAPA PUBLICADO COM SUCESSO!\nSuas moedas e o mapa foram salvos na nuvem.");
        }

        window.onload = init;
    </script>
</body>
</html>
